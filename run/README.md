# Execution Scripts

This folder is composed of different scripts and archives whose role are described bellow:

## Description

| Script                | Description                                                                                                                                                       | Arguments                                                                                                                                                                                                                                                                                                                                                                  | Comments                                                             |
| --------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------- |
| `extract-projects.sh` | Because of the large size of the projects, they have been compressed using 7zip which offers (according to our experiments) the best compression ratio.           | none                                                                                                                                                                                                                                                                                                                                                                       |                                                                      |
| `extract-data.sh`     | Because of the large size of the data, they have been compressed using 7zip which offers (according to our experiments) the best compression ratio.               | none                                                                                                                                                                                                                                                                                                                                                                       |                                                                      |
| `run-arja-all.sh`     | Run the non-deterministic APR experiment for all targetted configurations using a [forked version of pitest](https://github.com/anonymized/pitest.git).        | 1. `mode`: either `local` or `sbatch`. It defines weither to run the script on a local machine or using slurm on HPC.<br>2. `flake_strategy` \[optional\]: either `vocabulary` (default) or `vocabulary-no-fl`. When set to `vocabulary-no-fl`, no flakiness is injected during the fault localization phase.                                             | To change the targetted version, change the values inside the script |
| `run-arja.sh`         | Run the non-deterministic APR experiment using a [forked version of ARJA](https://github.com/anonymized/arja.git).                                             | 1. `project`: one of math, lang. the name of the Defects4J project<br>2. `bug_id`: integer. The Defects4J bug id number.<br>3. `flake_rate`: the nominal flake rate to assign to FlakiMe.<br>4. `flake_strategy`: the flakiness model to assign to FlakiMe.<br>5. `repetition` \[optional\]: integer, by default 10. The number of repetion to performs. |                                                                      |
| `run-prapr-all.sh`    | Run the deterministic APR experiment for all targetted configurations using the [PRAPR Maven Plugin](https://github.com/prapr/prapr).                             | none                                                                                                                                                                                                                                                                                                                                                                       | To change the targetted version, change the values inside the script |
| `run-prapr-all.sh`    | Run the deterministic APR experiment for a single configuration using the [PRAPR Maven Plugin](https://github.com/prapr/prapr).                                   | 1. `project_dir`: the absolute path to the target project<br>2. `flake_rate`: the nominal flake rate to assign to FlakiMe                                                                                                                                                                                                                                          |                                                                      |
| `run-pit-all.sh`      | Run the mutation testing experiment for all targetted configurations with a forked version of [pitest Maven plugin](https://github.com/anonymized/pitest.git). | none                                                                                                                                                                                                                                                                                                                                                                       | To change the targetted version, change the values inside the script |
| `run-pit.sh`          | Run the mutation testing experiment for a specific version using a forked version of [pitest Maven plugin](https://github.com/anonymized/pitest.git).          | 1. `project_dir`: the absolute path to the target project<br>2. `flake_rate`: the nominal flake rate to assign to FlakiMe                                                                                                                                                                                                                                          |                                                                      |
| `run-sbfl-all.sh`     | Run the SBFL experiment for all targetted configurations with the [Gzoltar Maven Plugin](https://github.com/GZoltar/gzoltar).                                     | 1. `mode`: either `local` or `sbatch`. It defines weither to run the script on a local machine or using slurm on HPC.                                                                                                                                                                                                                                               | To change the targetted version, change the values inside the script |
| `run-sbfl.sh`         | Run the SBFL experiment for all targetted configurations with the [Gzoltar Maven Plugin](https://github.com/GZoltar/gzoltar).                                     | 1. `project`: one of math, lang. the name of the Defects4J project<br>2. `bug_id`: integer. The Defects4J bug id number.<br>3. `flake_rate`: the nominal flake rate to assign to FlakiMe.<br>4. `flake_strategy`: the flakiness model to assign to FlakiMe.<br>5. `repetition` \[optional\]: integer, by default 10. The number of repetion to performs. |

## Requirements

- Java version : `8 Update 2xx` with `JAVA_HOME` environment variable set (e.g., `$: export JAVA_HOME=/usr/jdk/jdk1.8.0_271`)
- Apache Maven version : `3.6.3`
- **Extract the project archives** contained in `$/projects/` using `extract-projects.sh`.

## Run scripts

1. ```cd <path/to/repo>/run/```
2. ./<name_script>.sh arg1 arg2